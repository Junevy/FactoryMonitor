<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:FactoryMonitor.UserControls.Controls.Button">

    <Style x:Key="PrimaryButton" TargetType="{x:Type Button}">

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border
                        x:Name="ButtonBackgroumd"
                        Width="{TemplateBinding Width}"
                        Height="{TemplateBinding Height}"
                        MinWidth="{TemplateBinding MinWidth}"
                        MinHeight="{TemplateBinding MinHeight}"
                        Padding="{TemplateBinding Padding}"
                        HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalAlignment}"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=local:Button}, Path=CornerRadius}">

                        <ContentPresenter
                            ContentTemplate="{TemplateBinding ContentTemplate}"
                            TextElement.Foreground="{TemplateBinding Foreground}"
                            TextElement.FontFamily="{TemplateBinding FontFamily}"
                            TextElement.FontSize="{TemplateBinding FontSize}"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalAlignment}"
                            Content="{TemplateBinding Content}" />
                    </Border>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBackgroumd" Property="Background" Value="{DynamicResource MainBackground}" />
                        </Trigger>
                        <Trigger Property="IsMouseCaptured" Value="True">
                            <Setter TargetName="ButtonBackgroumd" Property="Background" Value="{DynamicResource PressedBackground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <!--<Button
    Width="{Binding}"
    Height="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=MenuItemHeight}"
    Margin="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=MenuItemMargin}"
    Command="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=NavigateCommand, Mode=TwoWay}"
    CommandParameter="{Binding}">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <Border
                x:Name="ContainerBorder"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Background="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=MenuItemBackground}"
                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=MenuItemCornerRadius}">

                        <Grid RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <ScaleTransform x:Name="ButtonScale" ScaleX="1" ScaleY="1" />
                            </Grid.RenderTransform>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition MaxWidth="3" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Border
                        x:Name="Indicator"
                        Grid.Column="0"
                        Width="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IndicatorWidth}"
                        Height="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IndicatorHeight}"
                        HorizontalAlignment="Left"
                        Background="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IndicatorBackground}"
                        CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IndicatorCornerRadius}"
                        Visibility="{Binding IsSelected, Converter={StaticResource BooleanToVisibilityConverter}}" />

                            <ContentPresenter
                        Grid.Column="1"
                        VerticalAlignment="Center"
                        Content="{Binding}">
                                <ContentPresenter.ContentTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <StackPanel
                                        x:Name="OrientationPanel"
                                        Grid.Column="0"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Stretch"
                                        Orientation="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=Orientation}">
                                                <TextBlock
                                            Margin="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IconMargin}"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            FontFamily="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IconFontFamily}"
                                            FontSize="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IconSize}"
                                            Foreground="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IconForeground}"
                                            Text="{Binding Icon}"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=IconVisibility}" />

                                                <TextBlock
                                            Margin="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=ContentMargin}"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            FontFamily="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=ContentFontFamily}"
                                            FontSize="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=ContentSize}"
                                            Foreground="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=Foreground}"
                                            Text="{Binding Content}"
                                            Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=ContentVisibility}" />
                                            </StackPanel>

                                            <Button
                                        x:Name="CloseButton"
                                        Grid.Column="1"
                                        Margin="10,0,10,0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Command="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=CloseCommand, Mode=TwoWay}"
                                        CommandParameter="{Binding}"
                                        Content="&#xe639;"
                                        FontFamily="{DynamicResource IconFont}"
                                        Visibility="{Binding RelativeSource={RelativeSource AncestorType=local:SideMenu}, Path=CloseButtonVisibility}">
                                                <Button.Template>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border
                                                    x:Name="CloseButtonBg"
                                                    Background="{DynamicResource SubBackground}"
                                                    CornerRadius="5">
                                                            <Label Content="{TemplateBinding Content}" />
                                                        </Border>

                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="CloseButtonBg" Property="Background" Value="Gray" />
                                                            </Trigger>
                                                            <Trigger Property="IsMouseCaptured" Value="True">
                                                                <Setter TargetName="CloseButtonBg" Property="Background" Value="Tomato" />
                                                            </Trigger>

                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                        </Grid>

                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=OrientationPanel, Path=Orientation}" Value="Vertical">
                                                <Setter TargetName="CloseButton" Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ContentPresenter.ContentTemplate>
                            </ContentPresenter>
                        </Grid>
                    </Border>

                    <ControlTemplate.Triggers>
        -->
        <!--  点击缩放动画  -->
        <!--
                        <Trigger Property="IsPressed" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation
                                    Storyboard.TargetName="ButtonScale"
                                    Storyboard.TargetProperty="ScaleX"
                                    To="0.5"
                                    Duration="0:0:0.2" />
                                        <DoubleAnimation
                                    Storyboard.TargetName="ButtonScale"
                                    Storyboard.TargetProperty="ScaleY"
                                    To="0.5"
                                    Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation
                                    Storyboard.TargetName="ButtonScale"
                                    Storyboard.TargetProperty="ScaleX"
                                    To="1"
                                    Duration="0:0:0.2" />
                                        <DoubleAnimation
                                    Storyboard.TargetName="ButtonScale"
                                    Storyboard.TargetProperty="ScaleY"
                                    To="1"
                                    Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>

        -->
        <!--  选中高亮  -->
        <!--
                        <DataTrigger Binding="{Binding IsSelected}" Value="True">
                            <Setter TargetName="Indicator" Property="Opacity" Value="1" />
                            <Setter TargetName="ContainerBorder" Property="Background" Value="{DynamicResource PressedBackground}" />

                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Button.Template>
        </Button>-->
    </Style>
</ResourceDictionary>